language: python
matrix:
  include:
    - python: "3.6"
    - python: "3.7"
      dist: xenial
      sudo: true
install:
  - pip install -e '.[testing]'
script:
  - black --check .
  - mypy --no-incremental htmldoom || true  # TODO: fix the troublesome typing
  - typecov 100 .typecov/report/linecount.txt
  - pytest --cov=htmldoom
after_success:
  - bash <(curl -s https://codecov.io/bash)
